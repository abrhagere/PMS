# Apache Virtual Host Configuration for PMS Application
# Target: Apache 2.4.37

<VirtualHost *:80>
    ServerName pms.local
    ServerAlias www.pms.local
    
    # Document Root - Update path as needed
    # Note: Path contains spaces, consider using a symlink
    DocumentRoot "/home/devops/Documents/t - stock abrha/pms (11)/pms"
    
    <Directory "/home/devops/Documents/t - stock abrha/pms (11)/pms">
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
        
        # PHP Settings
        php_admin_value upload_max_filesize 50M
        php_admin_value post_max_size 50M
        php_admin_value memory_limit 256M
        php_admin_value max_execution_time 300
    </Directory>
    
    # Protect sensitive directories
    <Directory "/home/devops/Documents/t - stock abrha/pms (11)/pms/system">
        Require all denied
    </Directory>
    
    <Directory "/home/devops/Documents/t - stock abrha/pms (11)/pms/application">
        Require all denied
    </Directory>
    
    # Logging
    ErrorLog ${APACHE_LOG_DIR}/pms_error.log
    CustomLog ${APACHE_LOG_DIR}/pms_access.log combined
    
    # PHP version (adjust if using different PHP version)
    # <FilesMatch \.php$>
    #     SetHandler application/x-httpd-php
    # </FilesMatch>
</VirtualHost>

# To use this configuration:
# 1. Copy to /etc/apache2/sites-available/pms.conf
# 2. Enable site: sudo a2ensite pms.conf
# 3. Reload Apache: sudo systemctl reload apache2
# 4. Add to /etc/hosts: 127.0.0.1 pms.local




